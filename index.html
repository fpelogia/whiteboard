<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Whiteboard </title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Importa Ã­cones do Font Awesome-->
    <script src="https://kit.fontawesome.com/751ed13538.js" crossorigin="anonymous"></script>

    <!-- Importa socket.io-->
    <script src="https://cdn.socket.io/4.0.2/socket.io.min.js" integrity="sha384-Bkt72xz1toXkj/oEiOgkQwWKbvNYxTNWMqdon3ejP6gwq53zSo48nW5xACmeDV0F" crossorigin="anonymous"></script>

    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>
    <script src="p5.js"></script>
    <!-- <script src="ship.js"></script> -->
    <!-- <script src="addons/p5.dom.min.js"></script>
    <script src="addons/p5.sound.min.js"></script> -->
    <!-- <script src="https://unpkg.com/ml5@0.1.1/dist/ml5.min.js"></script> -->
    <script src="sketch.js"></script>
    <!-- <meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"> -->
        <style>
  #frame {
    max-width: 60em;
    /*margin: auto;*/
  }
  #caixa_latex {
    display: none;
    border: 1px solid grey;
    margin: 0 0 .25em;
    width: 100%;
    font-size: 160%;
    box-sizing: border-box;
  }
  #output {
    font-size: 160%;
    /*margin-top: .75em;
    border: 1px solid grey;
    padding: .25em;
    min-height: 2em;
    margin-bottom: 5em;*/
  }
  #output > pre {
    margin-left: 5px;
  }
  .left {
    float: left;
  }
  .right {
    float: right;
  }
  </style>

 
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
    function convert() {
      //
      //  Get the TeX input
      //
      var input = document.getElementById("caixa_latex").value.trim();
 //
      //  Disable the display and render buttons until MathJax is done
      //
      var display = document.getElementById("display");
      var button = document.getElementById("render");
      //button.disabled = display.disabled = true;
      //
      //  Clear the old output
      //
      output = document.getElementById('output');
      output.innerHTML = '';
      //
      //  Reset the tex labels (and automatic equation numbers, though there aren't any here).
      //  Get the conversion options (metrics and display settings)
      //  Convert the input to CommonHTML output and use a promise to wait for it to be ready
      //    (in case an extension needs to be loaded dynamically).
      //
      MathJax.texReset();
      var options = MathJax.getMetricsFor(output);
      //options.display = display.checked;
      MathJax.tex2chtmlPromise(input, options).then(function (node) {
        //
        //  The promise returns the typeset node, which we add to the output
        //  Then update the document to include the adjusted CSS for the
        //    content of the new equation.
        //
        output.appendChild(node);
        MathJax.startup.document.clear();
        MathJax.startup.document.updateDocument();
      }).catch(function (err) {
        //
        //  If there was an error, put the message into the output instead
        //
        output.appendChild(document.createElement('pre')).appendChild(document.createTextNode(err.message));
      }).then(function () {
        //
        //  Error or not, re-enable the display and render buttons
        //
        //button.disabled = display.disabled = false;
      });
    }
  </script>


    </head>
    <body>
        <div class='frame'>
            <h1 class='title'>Colaborative Whiteboard with LaTeX support</h1>

            <div id="canvasP5">
                <!-- Canvas -->
            </div>
            <br><tr>
            <div class='tool-bar'>    
                <input type='radio' id='pincel' name = 'tool'  checked> 
                <label class='chk-btn' for='pincel' >
                    <i class="fas fa-paint-brush tool-icon"></i>
                </label>

                <input type='radio' id='borracha' name = 'tool' > 
                <label class='chk-btn' for='borracha'>
                    <i class="fas fa-eraser tool-icon"></i>
                </label>

                <input type='radio' id='retangulo' name = 'tool' > 
                <label class='chk-btn' for='retangulo'>
                    <i class="far fa-square tool-icon"></i>
                </label>

                <input type='radio' id='reta' name = 'tool' > 
                <label class='chk-btn' for='reta'>
                    <i class="fas fa-minus tool-icon"></i>
                </label>


                <input type='radio' id='texto' name = 'tool' > 
                <label class='chk-btn' for='texto'>
                    <i class="fas fa-i-cursor tool-icon"></i>
                </label>

                <input type='radio' id='latex' name = 'tool' > 
                <label class='chk-btn' for='latex'>
                    <i class="fas fa-square-root-alt tool-icon"></i>
                </label>

                <input type="color" id="cor" name="cor" value="#000000">       

                <button id='desfazer'  > 
                    <i class="fas fa-undo-alt tool-icon"></i>
                </button>
                <button id='limpar'  > 
                    <i class="far fa-trash-alt tool-icon"></i>
                </button>
            </div>
            <div class='tool-bar'>    
                    Line thickness
                <input type="range" id="raio" name="vol" min="4" max="48" step="4">       
            </div>
            <div class='tool-bar'>    
                <textarea id="caixa_texto" name="caixa_texto" style="display:none">
                </textarea>
            </div>
            </div>
        </div>
<div id="frame">

    <textarea id="caixa_latex" rows="15" cols="10" placeholder="% TeX">
</textarea>
<br clear="all" />
<div id="output"></div>

</div>

    </body>
</html>
